# Changelog

<!-- Markdownlint-disable MD024 -->

このプロジェクトの注目すべき変更はこのファイルで文書化されています。

フォーマットは [Keep a Changelog](https://keepachangelog.com/ja/1.1.0/) に基づいており、
このプロジェクトは [セマンティック バージョニング](https://semver.org/lang/ja/spec/v2.0.0.html) を遵守しています。

## [0.3.0] - 2025-04-25

### 追加

- ファイル名とディレクトリ名の暗号化機能を追加
  - `-e` または `--encrypt-filenames` オプションで有効化可能
  - 日本語を含むファイル名も安全に暗号化
  - メタデータの暗号化による復号化時の自動復元

### 改善

- エラーメッセージと警告メッセージの表示を改善
- ファイル名の暗号化と復号化のセキュリティを強化
- ZIP ファイルの生成場所を改善:
  - 圧縮対象と同じディレクトリに生成するように変更
  - 相対パスで指定したファイル名は圧縮対象のディレクトリからの相対パスとして解釈
- エラー処理の改善:
  - 非暗号化 ZIP ファイルの検出と適切なエラー表示
  - 既存ファイルの保護と誤削除の防止

### ドキュメント

- ファイル名暗号化オプションの使用方法を追加
- エラーメッセージと出力メッセージの改善

### セキュリティ

- 解凍時の安全性を向上:
  - 既存ファイルの保護
  - 非暗号化 ZIP ファイルの検証強化

## [0.2.1] - 2025-04-24

### 追加

- .gitignore ファイルの読み込み機能を追加し、圧縮時に除外ルールを適用
- テストケース: .gitignore のパターンマッチングのテストを追加

### 改善

- エラーハンドリングを強化:
  - 不正なファイルパスの検証を追加
  - パスワード不一致時のエラーメッセージを改善
  - 暗号化/復号化失敗時の一時ファイルの自動クリーンアップを実装

### ドキュメント

- README.md にバージョン情報とインストール手順を追加

## [0.2.0] - 2025-04-23

### 追加

- 暗号化を使用したセキュアなファイル圧縮・解凍機能を実装
- 暗号化キー生成関数のテストケースを追加

### 変更

- 関数の引数フォーマットを改善し、コードの可読性を向上
- test-local ターゲットで pytest の詳細出力オプションを追加

## [0.1.1] - 2025-04-21

### 追加

- file_sorter.py: ファイルの検索と並べ替え機能を実装
- Docker 環境のセットアップ:
  - 複数の Python バージョン（3.10-3.13）に対応したテスト環境
  - Docker Compose による環境構築の自動化
- Makefile を追加し、テストとフォーマット実行を統一化
- エディタ設定:
  - .editorconfig による改行コードの統一
  - .gitattributes による行末の設定統一

### 変更

- CI: actions/setup-python を v5 に更新
- DEVELOPMENT.md: 推奨パッケージセクションを追加

## [0.1.0] - 2025-04-16

### 追加

- FileScribe クラス: 複数エンコーディングに対応したファイル読み書き機能
- CI/CD:
  - GitHub Actions ワークフローの設定
  - Python 3.10-3.13 での自動テスト実行
- プロジェクトドキュメント:
  - README.md: インストール手順、使用例、貢献方法
  - DEVELOPMENT.md: 開発者向けガイドライン
  - ライセンスバッジと CI バッジの追加

### 変更

- Poetry によるプロジェクト管理の導入
- 依存関係の更新: flake8-pyproject の追加
- Python バージョン要件を 3.10 以上に更新

### 修正

- README.md のインストール手順とリポジトリ URL を修正
- CI ワークフローのアクションバージョンを v4 に更新

[0.3.0]: https://github.com/Seika139/scribe/compare/v0.2.1...v0.3.0
[0.2.1]: https://github.com/Seika139/scribe/compare/v0.2.0...v0.2.1
[0.2.0]: https://github.com/Seika139/scribe/compare/v0.1.1...v0.2.0
[0.1.1]: https://github.com/Seika139/scribe/compare/v0.1.0...v0.1.1
[0.1.0]: https://github.com/Seika139/scribe/releases/tag/v0.1.0
